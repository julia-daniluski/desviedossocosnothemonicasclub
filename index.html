<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Monica Club - Desvie dos Socos</title>
<style>
  body {
    background: #f0f0f0;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }

  #game {
    width: 90%;
    max-width: 600px;
    height: 220px;
    background: linear-gradient(#9cf, #fff);
    margin: 20px auto;
    position: relative;
    overflow: hidden;
    border: 2px solid #333;
    border-radius: 12px;
  }

  #dino {
    width: 70px;
    height: 70px;
    position: absolute;
    bottom: 0;
    left: 50px;
    border-radius: 10px;
    background-image: url('borboleta.png');
    background-size: cover;
    transition: bottom 0.15s ease-in, transform 0.15s ease-in;
  }

  #dino.jump {
    bottom: 120px;
  }

  #dino.duck {
    transform: scaleY(0.7);
  }

  #cactus {
    width: 50px;
    height: 50px;
    background: green;
    position: absolute;
    bottom: 0;
    right: -60px;
    border-radius: 8px;
    background-image: url('arvore.png');
    background-size: cover;
  }

  #scoreBoard {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 16px;
    font-weight: bold;
  }

  .controls {
    margin-top: 10px;
  }

  button {
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
  }

  #status {
    margin-top: 10px;
    font-size: 18px;
    font-weight: bold;
  }

  footer {
    margin-top: 20px;
    font-size: 14px;
    color: #555;
  }

  @media (max-width: 600px) {
    #dino { width: 60px; height: 60px; left: 30px; }
    #cactus { width: 45px; height: 45px; }
  }
</style>
</head>

<body>
  <h1>Desvie dos socos no The Monica Club</h1>
  <p>Use os botÃµes ou o toque para jogar!</p>

  <div id="game">
    <div id="scoreBoard">
      Tempo: <span id="time">0</span>s | Pontos: <span id="score">0</span>
    </div>
    <div id="dino"></div>
    <div id="cactus"></div>
  </div>

  <div class="controls">
    <label for="speedRange">Velocidade do jogo:</label>
    <input type="range" id="speedRange" min="1" max="10" value="5">
    <br>
    <button id="startButton">Iniciar Jogo</button>
    <button id="jumpButton">PULAR</button>
    <button id="duckButton">AGACHAR</button>
  </div>

  <p id="status"></p>

  <footer>Â© 2025 The Monica Club â€” Todos os direitos reservados.</footer>

  <audio id="jumpSound" src="jump.mp3" preload="auto"></audio>
  <audio id="hitSound" src="hit.mp3" preload="auto"></audio>

<script>
const dino = document.getElementById("dino");
const cactus = document.getElementById("cactus");
const startButton = document.getElementById("startButton");
const jumpButton = document.getElementById("jumpButton");
const duckButton = document.getElementById("duckButton");
const scoreDisplay = document.getElementById("score");
const timeDisplay = document.getElementById("time");
const statusDisplay = document.getElementById("status");
const jumpSound = document.getElementById("jumpSound");
const hitSound = document.getElementById("hitSound");
const speedRange = document.getElementById("speedRange");

let gameStarted = false;
let isJumping = false;
let isDucking = false;
let time = 0;
let score = 0;
let cactusInterval, timeInterval;
let cactusSpeed = 2000;

function jump() {
  if (!gameStarted || isJumping) return;
  isJumping = true;
  dino.classList.add("jump");
  jumpSound.play();
  score += 3;
  scoreDisplay.textContent = score;
  setTimeout(() => {
    dino.classList.remove("jump");
    isJumping = false;
  }, 400);
}

function duck() {
  if (!gameStarted || isDucking || isJumping) return;
  isDucking = true;
  dino.classList.add("duck");
  setTimeout(() => {
    dino.classList.remove("duck");
    isDucking = false;
  }, 500);
}

function moveCactus() {
  if (!gameStarted) return;
  const speed = 2000 - (speedRange.value - 1) * 150;
  cactus.style.transition = "none";
  cactus.style.right = "-60px";
  cactus.style.bottom = score >= 30 ? "70px" : "0px";
  void cactus.offsetWidth;
  cactus.style.transition = `right ${speed / 1000}s linear`;
  cactus.style.right = "660px";
}

function checkCollision() {
  const dinoRect = dino.getBoundingClientRect();
  const cactusRect = cactus.getBoundingClientRect();

  const overlapX = dinoRect.right > cactusRect.left && dinoRect.left < cactusRect.right;
  const overlapY = dinoRect.bottom > cactusRect.top && dinoRect.top < cactusRect.bottom;

  if (overlapX && overlapY) endGame();
}

function startGame() {
  gameStarted = true;
  score = 0;
  time = 0;
  scoreDisplay.textContent = score;
  timeDisplay.textContent = time;
  statusDisplay.textContent = "";
  startButton.disabled = true;

  moveCactus();
  cactus.addEventListener("transitionend", () => {
    if (gameStarted) moveCactus();
  });

  cactusInterval = setInterval(() => {
    checkCollision();
  }, 50);

  timeInterval = setInterval(() => {
    time++;
    timeDisplay.textContent = time;
  }, 1000);
}

function endGame() {
  gameStarted = false;
  clearInterval(cactusInterval);
  clearInterval(timeInterval);
  hitSound.play();
  statusDisplay.textContent = `ðŸ’¥ Game Over! PontuaÃ§Ã£o final: ${score}`;
  startButton.disabled = false;
}

startButton.addEventListener("click", startGame);
jumpButton.addEventListener("click", jump);
duckButton.addEventListener("click", duck);

document.addEventListener("keydown", e => {
  if (["Space", "ArrowUp", "KeyW"].includes(e.code)) jump();
  if (["ArrowDown", "KeyS"].includes(e.code)) duck();
});

document.addEventListener("touchstart", e => {
  const startY = e.touches[0].clientY;
  document.addEventListener("touchend", e2 => {
    const endY = e2.changedTouches[0].clientY;
    if (endY < startY - 50) jump();
    if (endY > startY + 50) duck();
  }, { once: true });
});
</script>
</body>
</html>
